---
source: c2rust-transpile/tests/snapshots.rs
expression: cat tests/snapshots/exprs.rs
input_file: c2rust-transpile/tests/snapshots/exprs.c
---
#![allow(
    dead_code,
    mutable_transmutes,
    non_camel_case_types,
    non_snake_case,
    non_upper_case_globals,
    unused_assignments,
    unused_mut
)]
extern "C" {
    fn puts(str: *const std::ffi::c_char) -> std::ffi::c_int;
}
pub type C2RustUnnamed = std::ffi::c_uint;
pub const C: C2RustUnnamed = 2;
pub const B: C2RustUnnamed = 1;
pub const A: C2RustUnnamed = 0;
unsafe extern "C" fn side_effect() -> std::ffi::c_int {
    puts(b"the return of side effect\0" as *const u8 as *const std::ffi::c_char);
    return 10 as std::ffi::c_int;
}
#[no_mangle]
pub unsafe extern "C" fn unary_without_side_effect() {
    let mut i: std::ffi::c_int = 5 as std::ffi::c_int;
    -i;
    i;
    !i;
    (i == 0) as std::ffi::c_int;
    &mut i;
    i;
    i += 1;
    i -= 1;
    i -= 1;
    i += 1;
}
#[no_mangle]
pub unsafe extern "C" fn unary_with_side_effect() {
    let mut arr: [*mut std::ffi::c_char; 1] = [0 as *mut std::ffi::c_char];
    -side_effect();
    side_effect();
    !side_effect();
    (side_effect() == 0) as std::ffi::c_int;
    &*(b"\0" as *const u8 as *const std::ffi::c_char).offset(::core::mem::transmute::<
        unsafe extern "C" fn() -> std::ffi::c_int,
        unsafe extern "C" fn() -> std::ffi::c_int,
    >(side_effect)() as isize) as *const std::ffi::c_char;
    *arr[side_effect() as usize];
    arr[side_effect() as usize] = (arr[side_effect() as usize]).offset(1);
    arr[side_effect() as usize] = (arr[side_effect() as usize]).offset(-1);
    arr[side_effect() as usize] = (arr[side_effect() as usize]).offset(1);
    arr[side_effect() as usize] = (arr[side_effect() as usize]).offset(-1);
}
#[no_mangle]
pub unsafe extern "C" fn compound_literal() {
    let mut i: std::ffi::c_int = B as std::ffi::c_int;
}
