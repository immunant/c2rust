---
source: c2rust-transpile/tests/snapshots.rs
expression: cat tests/snapshots/gotos.rs
input_file: c2rust-transpile/tests/snapshots/gotos.c
---
#![allow(
    dead_code,
    non_camel_case_types,
    non_snake_case,
    non_upper_case_globals,
    unused_assignments,
    unused_mut
)]
#[no_mangle]
pub unsafe extern "C" fn sum(mut count: ::core::ffi::c_int) -> ::core::ffi::c_int {
    let mut x: ::core::ffi::c_int = 0 as ::core::ffi::c_int;
    while !(count <= 0 as ::core::ffi::c_int) {
        x += count;
        count -= 1;
    }
    return x;
}
#[no_mangle]
pub unsafe extern "C" fn goto_error_simple(mut x: ::core::ffi::c_int) -> ::core::ffi::c_int {
    '_error: {
        if x != 0 {
            x += 1 as ::core::ffi::c_int;
            if x != 0 {
                x += 2 as ::core::ffi::c_int;
                break '_error;
            }
        } else {
            x += 3 as ::core::ffi::c_int;
            if x != 0 {
                x += 4 as ::core::ffi::c_int;
                break '_error;
            }
        }
        return x + 5 as ::core::ffi::c_int;
    }
    return x + 6 as ::core::ffi::c_int;
}
#[no_mangle]
pub unsafe extern "C" fn multi_goto_error(mut x: ::core::ffi::c_int) -> ::core::ffi::c_int {
    '_also_bad: {
        '_bad: {
            if x != 0 {
                x += 1 as ::core::ffi::c_int;
                if x != 0 {
                    if x != 0 {
                        break '_bad;
                    }
                }
                x += 2 as ::core::ffi::c_int;
                if x != 0 {
                    break '_also_bad;
                }
            }
            if x != 0 {
                x += 3 as ::core::ffi::c_int;
                if x != 0 {
                    if x != 0 {
                        break '_bad;
                    }
                }
                x += 4 as ::core::ffi::c_int;
                if x != 0 {
                    break '_also_bad;
                }
            }
            return x;
        }
        return x + 10 as ::core::ffi::c_int;
    }
    return x + 20 as ::core::ffi::c_int;
}
#[no_mangle]
pub unsafe extern "C" fn multi_goto_error_common(mut x: ::core::ffi::c_int) -> ::core::ffi::c_int {
    '_common: {
        '_also_bad: {
            '_bad: {
                if x != 0 {
                    x += 1 as ::core::ffi::c_int;
                    if x != 0 {
                        if x != 0 {
                            break '_bad;
                        }
                    }
                    x += 2 as ::core::ffi::c_int;
                    if x != 0 {
                        break '_also_bad;
                    }
                }
                if x != 0 {
                    x += 3 as ::core::ffi::c_int;
                    if x != 0 {
                        if x != 0 {
                            break '_bad;
                        }
                    }
                    x += 4 as ::core::ffi::c_int;
                    if x != 0 {
                        break '_also_bad;
                    }
                }
                return x;
            }
            x += 5 as ::core::ffi::c_int;
            break '_common;
        }
        x += 6 as ::core::ffi::c_int;
    }
    return x + 10 as ::core::ffi::c_int;
}
